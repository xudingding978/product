<div  id="loginModal" class="blur_black"  {{action closePane on="click"  target="view"}}></div>

<div id="cta-popup" style="display:block;">
    <div class="inner">
        <div class="left">
            <img src="../../../images/trends_logo.png" alt="trends logo">
            <div id="cta_register" class="registerbtn" {{action ctaregister on="click"  target="view"}}>Register</div>
            <div id="cta_login" class="loginbtn" {{action ctalogin on="click"  target="view"}}>Log in</div>
            <div class="learnmore" >
                <a href="http://about.trendsideas.com" target="_blank">Learn more</a>
            </div>
        </div><!-- end .left -->
        <div class="right">
            <img src="../../../images/cta-diagram.png" alt="Connect, Collect and Collaborate">
        </div><!-- end .right -->

    </div><!-- end .inner -->
    <div class="closeview" style="right: 50px;color: #fff;"{{action closePane on="click"  target="view"}}>
        <i class="fa fa-times"></i>
        <span id="close_text" class="close_text">close</span>
    </div>

</div><!-- end #cta-popup -->


<div id="profiles-main-container" class="Login-box" style="background-color: transparent;position: fixed; top: 30%; z-index: 10; margin: auto; left: 0px; right: 0px; width: 300px;height: 565px;border: 0;text-align: center; display:none;">   

    <div id="click-register-social" class="register-with easing social-active" style="border-radius: 5px 5px 0 0; border-bottom:1px solid #e3e3e3;">
        <i class="fa fa-facebook">&nbsp</i><a style="color: #888"> Register with social account</a>
    </div>

    <div id="social-link" class="social-links-container" style="display: block;">

        <div class="social-login-iconbox" {{action Facebook  on="click"  target="view"}} >
            <i  class="fa fa-facebook"></i>
        </div>

        <div  class="social-login-iconbox" {{action Twitter on="click"  target="view"}}>
            <i class="fa fa-twitter"></i>
        </div>

        <div  class="social-login-iconbox" {{action Google on="click"  target="view"}}>
            <i  class="fa fa-google-plus"></i>
        </div>

        <div class="social-login-iconbox" {{action LinkedIn on="click"  target="view"}}>
            <i  class="fa fa-linkedin"></i>
        </div>

        <div  class="social-login-iconbox" {{action Sina on="click"  target="view"}}>
            <i class="fa fa-weibo"></i>
        </div>
    </div>


    <!--This is the email register section-->
    <div>
        <div id="click-register" class="register-with easing register-clicker">
            <i class="fa fa-envelope">&nbsp </i><a style="color: #888"> Register with Email</a>
        </div>

        <div   id="register-with-email-drop-down" style="margin: 0 auto ;background-color: #fff;border-radius: 0 0 5px 5px;display:none;">
            <div style="padding: 0 8px;position: relative;">

                <div style="border-bottom: 1px solid #e3e3e3; border-top:1px solid #e3e3e3;">
                    <div id="first_name" class="login-textfield" style="width: 49%;display: inline-block;border: none">
                        {{view Ember.TextField valueBinding="first_name" placeholder="First Name" }}
                    </div>

                    <div id="last_name" class="login-textfield" style="width: 49%;display: inline-block;border: none">
                        {{view Ember.TextField valueBinding="last_name" placeholder="Last Name" }}
                    </div>
                </div>

                <div  id="email" class="login-textfield" >
                    {{view Ember.TextField valueBinding="email" placeholder="Your Email" }}
                </div>

                <div id="password" class="login-textfield"  >
                    {{view Ember.TextField type="password" valueBinding="password" placeholder="Password" }}
                </div>
            </div>

            <div id="register-btn" class="register-btn easing"  {{action signUp}} > Register</div>
        </div>


        <div id="register-with-email-step-2" style="margin: 0 auto ;background-color: #fff;border-radius: 0 0 5px 5px;display:none;">
            <div style="padding: 0 8px;position: relative;">

                <div  class="login-textfield" style="border-top:1px solid #e3e3e3;">
                    {{view Ember.TextField valueBinding="region" placeholder="Region" }}
                </div>

                <div style="border-bottom: 1px solid #e3e3e3;">
                    <div class="login-select easing" {{action setmale}}>
                         Male
                </div>

                <div class="login-select easing" {{action setfemale}}>
                     Female
            </div>
        </div>

        <div class="login-textfield"  style="margin: 0;width: 100%;height: 45px;line-height: 45px;border-bottom: 1px solid #e3e3e3;">
            {{view Ember.TextField valueBinding="age" placeholder="How old are you?" }}
        </div>
    </div>
    <div class="back-btn easing"  >Back</div>
    {{#if controller.isRegistering}}
    <div class="register-btn easing register-btn-small"  {{action next}}>Next</div>
    {{else}}
    <div class="easing register-btn-small" ><i class="spinner" style="top:4px">&nbsp;</i></div>
    {{/if}}

</div>


<div id="register-with-email-step-3" class="popup-container" style="display:none; width: 101.5%;">
    <!-- Facebook Conversion Code for Lead -->
    <script type="text/javascript">
        var fb_param = {};
        fb_param.pixel_id = '6013885366274';
        fb_param.value = '0.01';
        fb_param.currency = 'USD';
        (function() {
            var fpw = document.createElement('script');
            fpw.async = true;
            fpw.src = '//connect.facebook.net/en_US/fp.js';
            var ref = document.getElementsByTagName('script')[0];
            ref.parentNode.insertBefore(fpw, ref);
        })();
    </script>
    <noscript><img height="1" width="1" alt="" style="display:none" src="https://www.facebook.com/offsite_event.php?id=6013885366274&amp;value=0.01&amp;currency=USD" /></noscript>
    <div class="popup-bg-fadeout" style="background-color: transparent">&nbsp;</div>
    <div class="welcome-container">
    <div class="welcome-top">
        <div  class="welcome-title">
            <div> Tell us what you're interested in!</div>
        </div>
    </div>
    <div class="welcome-subtitle-conainer" >
        <div class="welcome-subtitle">
            <div class="welcome-res-position">Residential</div>         
        </div>
        {{#each controller.contentTopicResidential}}
        <div class="welcome-select-interest" {{action selectTopic id topic}}>
             <div id="minus_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing hideClass"  {{action selectTopic id topic }}><i class="fa fa-minus" ></i></div>
            <div id="plus_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing"><i class="fa fa-plus" ></i></div>
            <div class="welcome-image-container">
                <div  class="welcome-object-hoverarea easing"></div>
                <div class="welcome-image"><img {{bindAttr src="image"}}/></div>
            </div>
            <div class="welcome-topic">
                {{topic}}
            </div>
        </div>
        {{/each}}
    </div>

    <div class="welcome-subtitle-conainer" >
        <div class="welcome-subtitle">
            <div class="welcome-comm-position">Commercial</div>
        </div>

        {{#each controller.contentTopicCommercial}}
        <div class="welcome-select-interest" {{action selectTopic id topic}}>
             <div id="minus_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing hideClass"  {{action selectTopic id topic }}><i class="fa fa-minus" ></i></div>
            <div id="plus_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing"  ><i class="fa fa-plus" ></i></div>
            <div class="welcome-image-container">
                <div  class="welcome-object-hoverarea easing" ></div>
                <div class="welcome-image"><img {{bindAttr src="image"}}/></div>
            </div>
            <div class="welcome-topic">
                {{topic}}
            </div>
        </div>
        {{/each}}
    </div>
    <div class="welcome-button">
        <div class="register-btn easing welcome-button-style border-right "></div>
        <div class="register-btn easing welcome-button-style " {{action submitSelection }}>Next&nbsp;<i class="fa fa-long-arrow-right"></i></div>
    </div> 
</div>
</div>


<div id="register-with-social-select-interests" class="popup-container" style="display:none; width: 101.5%; overflow: hidden;">
    <!-- Facebook Conversion Code for Lead -->
    <script type="text/javascript">
        var fb_param = {};
        fb_param.pixel_id = '6013885366274';
        fb_param.value = '0.01';
        fb_param.currency = 'USD';
        (function() {
            var fpw = document.createElement('script');
            fpw.async = true;
            fpw.src = '//connect.facebook.net/en_US/fp.js';
            var ref = document.getElementsByTagName('script')[0];
            ref.parentNode.insertBefore(fpw, ref);
        })();
    </script>
    <noscript><img height="1" width="1" alt="" style="display:none" src="https://www.facebook.com/offsite_event.php?id=6013885366274&amp;value=0.01&amp;currency=USD" /></noscript>
    <div class="popup-bg-fadeout" style="background-color: transparent">&nbsp;</div>
      <div class="welcome-container">
    <div class="welcome-top">
        <div  class="welcome-title">
            <div> Tell us what you're interested in!</div>
        </div>
    </div>
    <div class="welcome-subtitle-conainer" >
        <div class="welcome-subtitle">
            <div class="welcome-res-position">Residential</div>         
        </div>
        {{#each controller.contentTopicResidential}}
        <div class="welcome-select-interest" {{action selectSocialTopic id topic}}>
             <div id="minuss_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing hideClass"  {{action selectSocialTopic id topic }}><i class="fa fa-minus" ></i></div>
            <div id="pluss_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing"><i class="fa fa-plus" ></i></div>
            <div class="welcome-image-container">
                <div  class="welcome-object-hoverarea easing"></div>
                <div class="welcome-image"><img {{bindAttr src="image"}}/></div>
            </div>
            <div class="welcome-topic">
                {{topic}}
            </div>
        </div>
        {{/each}}
    </div>

    <div class="welcome-subtitle-conainer" >
        <div class="welcome-subtitle">
            <div class="welcome-comm-position">Commercial</div>
        </div>

        {{#each controller.contentTopicCommercial}}
        <div class="welcome-select-interest" {{action selectSocialTopic id topic}}>
             <div id="minuss_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing hideClass"  {{action selectSocialTopic id topic }}><i class="fa fa-minus" ></i></div>
            <div id="pluss_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing"  ><i class="fa fa-plus" ></i></div>
            <div class="welcome-image-container">
                <div  class="welcome-object-hoverarea easing" ></div>
                <div class="welcome-image"><img {{bindAttr src="image"}}/></div>
            </div>
            <div class="welcome-topic">
                {{topic}}
            </div>
        </div>
        {{/each}}
    </div>
    <div class="welcome-button">
        <div class="register-btn easing welcome-button-style border-right "></div>
        <div class="register-btn easing welcome-button-style " {{action submitSocialSelection }}>Next&nbsp;<i class="fa fa-long-arrow-right"></i></div>
    </div> 
</div>
</div>

<div id="register-with-email-step-4" style="overflow: hidden; z-index: 11; background-color: white; border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; box-shadow: rgb(187, 187, 187) 0px 0px 20px; width: 430px; height: 320px; margin: 0px auto; position: fixed; top: 20%; left: 0px; right: 0px; display: none;">
    <div  style="background-color: #f3f3f3;padding: 10px;border-bottom: 1px solid #ddd;text-align: center;">
        <div  class="comment-namentime" style="display: block;position: relative;height: 35px; margin: 0 auto;">
            <div style="position: relative;  line-height: 35px;font-size: 20px;background-color: #f3f3f3; opacity: 0.5;">
                Activate your account
            </div>
        </div>
    </div>
    <div style=" text-align: center; padding: 70px;">
        Registration successful! You'll soon receive an email with your account information and an activation link. Click on the activation link to activate your myTrends account!
    </div>
    <div id="finishRegister" class="register-btn easing" style="height: 45px;line-height: 45px;width: 100%;border-top: 1px solid #ddd;bottom: 0;position: absolute;display:block" {{action done}}>Done&nbsp;<i class="fa fa-long-arrow-right" style="font-size: 13px;"></i></div>
</div>


<div id="missing-fields" class="black-tool-tip" style="display:none;">
    <p>Please fill in all mandatory fields.</p>
</div>
<div id="invalid-user-name-register" class="black-tool-tip" style="display:none;">
    <p>The email address  you have entered is invalid.</p>
</div>
<div id="invalid-user-name-register-with-spaces" class="black-tool-tip" style="display:none;">
    <p>Please remove spaces from your email address.</p>
</div>
<div id="invalid-password" class="black-tool-tip" style="display:none;">
    <p>Your password length should be between 6-40 characters long.</p>
</div>
<div id="email-in-use" class="black-tool-tip" style="display:none;">
    <p>The email address you have entered belongs to an existing account.</p>
</div>
<div id="email-used-by-social" class="black-tool-tip" style="display:none;">
    <p>The email address you have entered belongs to an existing account.</p>
</div>

</div>
<!--End of email register section-->

<div id="user-login-pane"  style="display:none;border-radius: 5px 5px 0 0;">

    <div id="social-login" class="register-with easing" style="border-radius: 5px 5px 0 0; border-bottom:1px solid #e3e3e3;">
        <i id="social-login" class="fa fa-facebook">&nbsp</i><a style="color: #888"> Log in with social account</a>
    </div>
    <div id="social-login-container" class="social-links-container" style="display: none;">
        <div class="social-login-iconbox" {{action Facebook  on="click"  target="view"}}>
            <i  class="fa fa-facebook"></i>
        </div>

        <div  class="social-login-iconbox" {{action Twitter  on="click"  target="view"}}>
            <i class="fa fa-twitter"></i>
        </div>

        <div class="social-login-iconbox" {{action Google  on="click"  target="view"}}>
            <i  class="fa fa-google-plus"></i>
        </div>

        <div  class="social-login-iconbox" {{action LinkedIn  on="click"  target="view"}}>
            <i class="fa fa-linkedin"></i>
        </div>

        <div  class="social-login-iconbox" {{action Sina  on="click"  target="view"}}>
            <i class="fa fa-weibo"></i>
        </div>

    </div>


    <div id="click-login" class="register-with easing active-tab" style="border-bottom: 1px solid #e3e3e3;">
        <i class="fa fa-envelope">&nbsp </i><a style="color: #888"> Log in with Email</a>
    </div>

    <div id="login-with-email-drop-down" style="margin: 0 auto ;background-color: #fff;border-radius: 0 0 5px 5px;">
        <div style="padding: 0 8px;position: relative;">


            <div id="loginUsername" class="login-textfield" >
                {{view HubStar.LoginEnterKeyTextFieldView valueBinding="loginUsername" placeholder="Your Email" }}
            </div>

            <div id="loginPassword" class="login-textfield"  >
                {{view HubStar.LoginEnterKeyTextFieldView type="password" valueBinding="loginPassword" placeholder="Password" }}
                <div class="hint--right hint--rounded" data-hint="Forgot password?" style="cursor:pointer;float: right;margin-top: -40px;height: 30px;color:#888;">
                    <i class="fa fa-question-circle">&nbsp</i>
                </div>
            </div>
        </div>

        <div id="register-btn" class="register-btn easing"  {{action login}}> Log in</div>
    </div>
    <div id="user-forgot-password-pane" style="width: 300px;margin: 0 auto ;background-color: #fff;border-radius: 0 0 5px 5px;display:none;">
        <div  id="resetPasswordEmail"class="login-textfield" style="padding: 0 10px">
            {{view Ember.TextField valueBinding="resetPasswordEmail" placeholder="Your Email" }}
        </div>
        <div class="back-btn easing"  >Back</div>
        
        
        
         {{#if controller.isEmailsend}}
    <div id="reset-btn" class="register-btn easing register-btn-small" {{action emailSend}}>Reset password</div>
    {{else}}
    <div class="easing register-btn-small" ><i class="spinner" style="top:4px">&nbsp;</i></div>
    {{/if}}

        
    </div>

    <div class="black-tool-tip"id="forgot-message-container" style="display:none;">
        <p>We've just emailed you a new password for your myTrends account - be sure to check your Spam folder in case it ends up there.</p><br/>
        <p>If you don't receive a password reset email, please contact us at 
            <a class="white-text-hover easing" href="http://trendsideas.com/ViewPage.aspx?pageName=Contact%20Us&region=1" target="blank" style="text-decoration: underline"><b>help documents.</b></a>
        </p>
    </div>


    <div id="invalid-user-name" class="black-tool-tip" style="display:none;">
        <p>The email address  you have entered is invalid.</p>
    </div>
    <div id="invalid-account-type-facebook" class="black-tool-tip" style="display:none;">
        <p>You are attempting to log in with a social account. Please use your "Facebook account" option.</p>
    </div>
    <div id="invalid-account-type-twitter" class="black-tool-tip" style="display:none;">
        <p>You are attempting to log in with a social account. Please use your "Twitter  account" option.</p>
    </div>
    <div id="invalid-account-type-google" class="black-tool-tip" style="display:none;">
        <p>You are attempting to log in with a social account. Please use your "Google+  account" option.</p>
    </div>
    <div id="invalid-account-type-linkedin" class="black-tool-tip" style="display:none;">
        <p>You are attempting to log in with a social account. Please use your "LinkedIn account" option.</p>
    </div>
    <div id="incorrect-password" class="black-tool-tip" style="display:none;">
        <p>Incorrect password.</p>
    </div>
    <div id="incorrect-varify" class="black-tool-tip" style="display:none;">
        <p>You're almost there! To activate your myTrends account, please click on the activation link in the 'Confirmation of registration' email we have sent you.</p>
    </div>

    <div id="invalid-account-type-reset" class="black-tool-tip" style="display:none;">
        <p>You are attempting to reset the password of a social account. Please use the "Log in with social account" option.</p>
    </div>
    <div id="new-password" class="black-tool-tip" style="display:none;">
        <p>  We've sent you an email with instructions to reset your password.</p><br/>
        <p>Please make sure it didn't wind up in your Junk Mail. If you aren't receiving our password reset emails, contact to support@trendsideas.com</p>
    </div>



</div>

<a href="http://about.trendsideas.com" target="blank">
    <div class="learnmore-btn easing" >Learn more</div>
</a>

<div style="margin: 15px 0;cursor:pointer;color: #fff; font-size: 12px;"  id="login-btn" class="hover-opacity easing" {{action loginPane on="click"  target="view"}}>Already have an account? Click here to Log in!</div>

</div>

<script>


    function DropDown(el) {
        this.dd = el;
        this.placeholder = this.dd.children('span');
        this.opts = this.dd.find('ul.dropdown > li');
        this.val = '';
        this.index = -1;
        this.initEvents();
    }
    DropDown.prototype = {
        initEvents: function() {
            var obj = this;

            obj.dd.on('click', function(event) {
                $(this).parents('div .wrapper-dropdown-3').toggleClass('active');
                return false;
            });
            obj.opts.on('click', function() {
                var opt = $(this);
                obj.val = opt.text();
                obj.index = opt.index();
                obj.placeholder.text(obj.val);
            });
        },
        getValue: function() {
            return this.val;
        },
        getIndex: function() {
            return this.index;
        }
    };

    $(function() {

        var dd3 = new DropDown($('.dropdown_test_3'));
        $(document).click(function() {
            $('.wrapper-dropdown-3').removeClass('active');
        });

    });

    function setDomain() {

        var api_url = document.domain;
        var api_domain_start_pos = api_url.indexOf('.');
        var api_url = api_url.slice(api_domain_start_pos);

        return api_url;
    }

</script>
