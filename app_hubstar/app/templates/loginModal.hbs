
<div  id="loginModal" class="blur_black"  {{action closePopupLogin}}></div>
<div id="profiles-main-container" class="Login-box loginmodal-container">   

    <div id="click-register-social" class="register-with easing social-active loginmodal-social">
        <i class="fa fa-facebook">&nbsp</i><a class="loginmodal-text-color"> Register with social account</a>
    </div>

    <div id="social-link" class="social-links-container">

        <div class="social-login-iconbox" {{action Facebook  on="click"  target="view"}} >
            <i  class="fa fa-facebook"></i>
        </div>

        <div  class="social-login-iconbox" {{action Twitter on="click"  target="view"}}>
            <i class="fa fa-twitter"></i>
        </div>

        <div  class="social-login-iconbox" {{action Google on="click"  target="view"}}>
            <i  class="fa fa-google-plus"></i>
        </div>

        <div class="social-login-iconbox" {{action LinkedIn on="click"  target="view"}}>
            <i  class="fa fa-linkedin"></i>
        </div>

        <div  class="social-login-iconbox" {{action Sina on="click"  target="view"}}>
            <i class="fa fa-weibo"></i>
        </div>
    </div>


    <!--This is the email register section-->
    <div>
        <div id="click-register" class="register-with easing register-clicker">
            <i class="fa fa-envelope">&nbsp </i><a class="loginmodal-text-color"> Register with Email</a>
        </div>

        <div   id="register-with-email-drop-down" class="loginmodal-email ">
            <div class="loginmodal-email-container">

                <div class="loginmodal-email-name-up">
                    <div id="first_name" class="login-textfield loginmodal-email-name" >
                        {{view Ember.TextField valueBinding="first_name" placeholder="First Name" }}
                    </div>

                    <div id="last_name" class="login-textfield loginmodal-email-name" >
                        {{view Ember.TextField valueBinding="last_name" placeholder="Last Name" }}
                    </div>
                </div>

                <div  id="email" class="login-textfield" >
                    {{view Ember.TextField valueBinding="email" placeholder="Your Email" }}
                </div>

                <div id="password" class="login-textfield"  >
                    {{view Ember.TextField type="password" valueBinding="password" placeholder="Password" }}
                </div>
            </div>

            <div id="register-btn" class="register-btn easing"  {{action signUp}} > Register</div>
        </div>


        <div id="register-with-email-step-2" class="loginmodal-email">
            <div class="loginmodal-email-container">

                <div  class="login-textfield" class="loginmodal-email-name-up">
                    {{view Ember.TextField valueBinding="region" placeholder="Region" }}
                </div>

                <div class="loginmodal-email-name-bottom">
                    <div class="login-select easing" {{action setmale}}>
                         Male
                </div>

                <div class="login-select easing" {{action setfemale}}>
                     Female
            </div>
        </div>

        <div class="login-textfield">
            {{view Ember.TextField valueBinding="age" placeholder="How old are you?" }}
        </div>
    </div>
    <div class="back-btn easing"  >Back</div>
    {{#if controller.isRegistering}}
    <div class="register-btn easing register-btn-small"  {{action next}}>Next</div>
    {{else}}
    <div class="easing register-btn-small" ><i class="spinner">&nbsp;</i></div>
    {{/if}}

</div>


<div id="register-with-email-step-3" class="popup-container register-with-email-step-3-style">
    <!-- Facebook Conversion Code for Lead -->
    <script type="text/javascript">
        var fb_param = {};
        fb_param.pixel_id = '6013885366274';
        fb_param.value = '0.01';
        fb_param.currency = 'USD';
        (function() {
            var fpw = document.createElement('script');
            fpw.async = true;
            fpw.src = '//connect.facebook.net/en_US/fp.js';
            var ref = document.getElementsByTagName('script')[0];
            ref.parentNode.insertBefore(fpw, ref);
        })();
    </script>
    <noscript><img height="1" width="1" class="display-none" src="https://www.facebook.com/offsite_event.php?id=6013885366274&amp;value=0.01&amp;currency=USD" /></noscript>
    <div class="popup-bg-fadeout">&nbsp;</div>
    <div class="welcome-container">
        <div class="welcome-top">
            <div  class="welcome-title">
                <div> Tell us what you're interested in!</div>
            </div>
        </div>
        <div class="welcome-subtitle-conainer" >
            <div class="welcome-subtitle">
                <div class="welcome-res-position">Residential</div>         
            </div>
            {{#each controller.contentTopicResidential}}
            <div class="welcome-select-interest" {{action selectTopic id topic}}>
                 <div id="minus_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing hideClass"  {{action selectTopic id topic }}><i class="fa fa-minus" ></i></div>
                <div id="plus_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing"><i class="fa fa-plus" ></i></div>
                <div class="welcome-image-container">
                    <div  class="welcome-object-hoverarea easing"></div>
                    <div class="welcome-image"><img {{bindAttr src="image"}}/></div>
                </div>
                <div class="welcome-topic">
                    {{topic}}
                </div>
            </div>
            {{/each}}
        </div>

        <div class="welcome-subtitle-conainer" >
            <div class="welcome-subtitle">
                <div class="welcome-comm-position">Commercial</div>
            </div>

            {{#each controller.contentTopicCommercial}}
            <div class="welcome-select-interest" {{action selectTopic id topic}}>
                 <div id="minus_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing hideClass"  {{action selectTopic id topic }}><i class="fa fa-minus" ></i></div>
                <div id="plus_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing"  ><i class="fa fa-plus" ></i></div>
                <div class="welcome-image-container">
                    <div  class="welcome-object-hoverarea easing" ></div>
                    <div class="welcome-image"><img {{bindAttr src="image"}}/></div>
                </div>
                <div class="welcome-topic">
                    {{topic}}
                </div>
            </div>
            {{/each}}
        </div>
        <div class="welcome-button">
            <div class="register-btn easing welcome-button-style border-right "></div>
            <div class="register-btn easing welcome-button-style " {{action submitSelection }}>Next&nbsp;<i class="fa fa-long-arrow-right"></i></div>
        </div> 
    </div>
</div>


<div id="register-with-social-select-interests" class="popup-container register-with-email-step-3-style">
    <!-- Facebook Conversion Code for Lead -->
    <script type="text/javascript">
        var fb_param = {};
        fb_param.pixel_id = '6013885366274';
        fb_param.value = '0.01';
        fb_param.currency = 'USD';
        (function() {
            var fpw = document.createElement('script');
            fpw.async = true;
            fpw.src = '//connect.facebook.net/en_US/fp.js';
            var ref = document.getElementsByTagName('script')[0];
            ref.parentNode.insertBefore(fpw, ref);
        })();
    </script>
    <noscript><img height="1" width="1" class="display-none" src="https://www.facebook.com/offsite_event.php?id=6013885366274&amp;value=0.01&amp;currency=USD" /></noscript>
    <div class="popup-bg-fadeout">&nbsp;</div>
    <div class="welcome-container">
        <div class="welcome-top">
            <div  class="welcome-title">
                <div> Tell us what you're interested in!</div>
            </div>
        </div>
        <div class="welcome-subtitle-conainer" >
            <div class="welcome-subtitle">
                <div class="welcome-res-position">Residential</div>         
            </div>
            {{#each controller.contentTopicResidential}}
            <div class="welcome-select-interest" {{action selectSocialTopic id topic}}>
                 <div id="minuss_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing hideClass"  {{action selectSocialTopic id topic }}><i class="fa fa-minus" ></i></div>
                <div id="pluss_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing"><i class="fa fa-plus" ></i></div>
                <div class="welcome-image-container">
                    <div  class="welcome-object-hoverarea easing"></div>
                    <div class="welcome-image"><img {{bindAttr src="image"}}/></div>
                </div>
                <div class="welcome-topic">
                    {{topic}}
                </div>
            </div>
            {{/each}}
        </div>

        <div class="welcome-subtitle-conainer" >
            <div class="welcome-subtitle">
                <div class="welcome-comm-position">Commercial</div>
            </div>

            {{#each controller.contentTopicCommercial}}
            <div class="welcome-select-interest" {{action selectSocialTopic id topic}}>
                 <div id="minuss_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing hideClass"  {{action selectSocialTopic id topic }}><i class="fa fa-minus" ></i></div>
                <div id="pluss_{{unbound id}}" class="welcome-plus-or-minus radius-circle easing"  ><i class="fa fa-plus" ></i></div>
                <div class="welcome-image-container">
                    <div  class="welcome-object-hoverarea easing" ></div>
                    <div class="welcome-image"><img {{bindAttr src="image"}}/></div>
                </div>
                <div class="welcome-topic">
                    {{topic}}
                </div>
            </div>
            {{/each}}
        </div>
        <div class="welcome-button">
            <div class="register-btn easing welcome-button-style border-right "></div>
            <div class="register-btn easing welcome-button-style " {{action submitSocialSelection }}>Next&nbsp;<i class="fa fa-long-arrow-right"></i></div>
        </div> 
    </div>
</div>

<div id="register-with-email-step-4" class="loginmodal-step-4">
    <div  class="loginmodal-step4-title-container">
        <div  class="comment-namentime">
            <div>
                Activate your account
            </div>
        </div>
    </div> 
    <div  class="loginmodal-step4-text">
        Registration successful! You'll soon receive an email with your account information and an activation link. Click on the activation link to activate your myTrends account!
    </div>
    <div id="finishRegister" class="register-btn easing loginmodal-final-register" {{action done}}>Done&nbsp;<i class="fa fa-long-arrow-right"></i></div>
</div>


<div id="missing-fields" class="black-tool-tip display-none">
    <p>Please fill in all mandatory fields.</p>
</div>
<div id="invalid-user-name-register" class="black-tool-tip display-none">
    <p>The email address  you have entered is invalid.</p>
</div>
<div id="invalid-user-name-register-with-spaces" class="black-tool-tip display-none">
    <p>Please remove spaces from your email address.</p>
</div>
<div id="invalid-password" class="black-tool-tip display-none">
    <p>Your password length should be between 6-40 characters long.</p>
</div>
<div id="email-in-use" class="black-tool-tip display-none">
    <p>The email address you have entered belongs to an existing account.</p>
</div>
<div id="email-used-by-social" class="black-tool-tip display-none">
    <p>The email address you have entered belongs to an existing account.</p>
</div>

</div>
<!--End of email register section-->

<div id="user-login-pane"  class="loginmodal-user-login-panel">

    <div id="social-login" class="register-with easing loginmodal-user-login-panel-text" >
        <i id="social-login" class="fa fa-facebook">&nbsp</i><a class="loginmodal-text-color"> Log in with social account</a>
    </div>
    <div id="social-login-container" class="social-links-container display-none">
        <div class="social-login-iconbox" {{action Facebook  on="click"  target="view"}}>
            <i  class="fa fa-facebook"></i>
        </div>

        <div  class="social-login-iconbox" {{action Twitter  on="click"  target="view"}}>
            <i class="fa fa-twitter"></i>
        </div>

        <div class="social-login-iconbox" {{action Google  on="click"  target="view"}}>
            <i  class="fa fa-google-plus"></i>
        </div>

        <div  class="social-login-iconbox" {{action LinkedIn  on="click"  target="view"}}>
            <i class="fa fa-linkedin"></i>
        </div>

        <div  class="social-login-iconbox" {{action Sina  on="click"  target="view"}}>
            <i class="fa fa-weibo"></i>
        </div>

    </div>


    <div id="click-login" class="register-with easing active-tab loginmodal-email-name-bottom">
        <i class="fa fa-envelope">&nbsp </i><a class="loginmodal-text-color"> Log in with Email</a>
    </div>

    <div id="login-with-email-drop-down" class="loginmodal-email-drop-down">
        <div class="loginmodal-email-container">


            <div id="loginUsername" class="login-textfield" >
                {{view HubStar.LoginEnterKeyTextFieldView valueBinding="loginUsername" placeholder="Your Email" }}
            </div>

            <div id="loginPassword" class="login-textfield"  >
                {{view HubStar.LoginEnterKeyTextFieldView type="password" valueBinding="loginPassword" placeholder="Password" }}
                <div class="hint--right hint--rounded loginmodal-forget-password" data-hint="Forgot password?">
                    <i class="fa fa-question-circle">&nbsp</i>
                </div>
            </div>
        </div>

        <div id="register-btn" class="register-btn easing"  {{action login}}> Log in</div>
    </div>
    <div id="user-forgot-password-pane" class="loginmodal-email width-300">
        <div  id="resetPasswordEmail" class="login-textfield" >
            {{view Ember.TextField valueBinding="resetPasswordEmail" placeholder="Your Email" }}
        </div>
        <div class="back-btn easing"  >Back</div>



        {{#if controller.isEmailsend}}
        <div id="reset-btn" class="register-btn easing register-btn-small" {{action emailSend}}>Reset password</div>
        {{else}}
        <div class="easing register-btn-small"><i class="spinner top-4">&nbsp;</i></div>
        {{/if}}


    </div>

    <div class="black-tool-tip display-none" id="forgot-message-container">
        <p>We've just emailed you a new password for your myTrends account - be sure to check your Spam folder in case it ends up there.</p><br/>
        <p>If you don't receive a password reset email, please contact us at 
            <a class="white-text-hover easing" href="http://trendsideas.com/ViewPage.aspx?pageName=Contact%20Us&region=1" target="blank"><b>help documents.</b></a>
        </p>
    </div>


    <div id="invalid-user-name" class="black-tool-tip display-none">
        <p>The email address  you have entered is invalid.</p>
    </div>
    <div id="invalid-account-type-facebook" class="black-tool-tip display-none">
        <p>You are attempting to log in with a social account. Please use your "Facebook account" option.</p>
    </div>
    <div id="invalid-account-type-twitter" class="black-tool-tip display-none">
        <p>You are attempting to log in with a social account. Please use your "Twitter  account" option.</p>
    </div>
    <div id="invalid-account-type-google" class="black-tool-tip display-none">
        <p>You are attempting to log in with a social account. Please use your "Google+  account" option.</p>
    </div>
    <div id="invalid-account-type-linkedin" class="black-tool-tip display-none">
        <p>You are attempting to log in with a social account. Please use your "LinkedIn account" option.</p>
    </div>
    <div id="incorrect-password" class="black-tool-tip display-none">
        <p>Incorrect password.</p>
    </div>
    <div id="incorrect-varify" class="black-tool-tip display-none">
        <p>You're almost there! To activate your myTrends account, please click on the activation link in the 'Confirmation of registration' email we have sent you.</p>
    </div>

    <div id="invalid-account-type-reset" class="black-tool-tip display-none">
        <p>You are attempting to reset the password of a social account. Please use the "Log in with social account" option.</p>
    </div>
    <div id="new-password" class="black-tool-tip display-none"> 
        <p>  We've sent you an email with instructions to reset your password.</p><br/>
        <p>Please make sure it didn't wind up in your Junk Mail. If you aren't receiving our password reset emails, contact to support@trendsideas.com</p>
    </div>



</div>

<a href="http://about.trendsideas.com" target="blank">
    <div class="learnmore-btn easing" >Learn more</div>
</a>

<div  id="login-btn" class="hover-opacity easing loginmodal-login-btn" {{action loginPane on="click"  target="view"}}>Already have an account? Click here to Log in!</div>

</div>

<script>


    function DropDown(el) {
        this.dd = el;
        this.placeholder = this.dd.children('span');
        this.opts = this.dd.find('ul.dropdown > li');
        this.val = '';
        this.index = -1;
        this.initEvents();
    }
    DropDown.prototype = {
        initEvents: function() {
            var obj = this;

            obj.dd.on('click', function(event) {
                $(this).parents('div .wrapper-dropdown-3').toggleClass('active');
                return false;
            });
            obj.opts.on('click', function() {
                var opt = $(this);
                obj.val = opt.text();
                obj.index = opt.index();
                obj.placeholder.text(obj.val);
            });
        },
        getValue: function() {
            return this.val;
        },
        getIndex: function() {
            return this.index;
        }
    };

    $(function() {

        var dd3 = new DropDown($('.dropdown_test_3'));
        $(document).click(function() {
            $('.wrapper-dropdown-3').removeClass('active');
        });

    });

    function setDomain() {

        var api_url = document.domain;
        var api_domain_start_pos = api_url.indexOf('.');
        var api_url = api_url.slice(api_domain_start_pos);

        return api_url;
    }

</script>
