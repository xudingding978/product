<?php $_gl0="\061.\064\0560.0"; if (!class_exists("\113\157olS\143\162ipt\151\156g",FALSE)) { class koolscripting { static function start() { ob_start(); return ""; } static function end() { $_gO0=ob_get_clean(); $_gl1=""; $_gO1=new domdocument(); $_gO1->loadxml($_gO0); $_gl2=$_gO1->documentElement; $id=$_gl2->getattribute("id"); $name=$_gl2->nodeName; $id=($id == "") ? "\144ump": $id; if (class_exists($name,FALSE)) { eval ("\044".$id." \075\040new\040".$name."(\047".$id."');"); $$id->loadxml($_gl2); $_gl1=$$id->render(); } else { $_gl1.=$_gO0; } return $_gl1; } } } function _gO2($_gl3) { return md5($_gl3); } function _gO3() { $_gl4=_gO4("\134","\057",strtolower($_SERVER["SCRI\120\124_NA\115\105"])); $_gl4=_gO4(strrchr($_gl4,"\057"),"",$_gl4); $_gl5=_gO4("\134","\057",realpath("\056")); $_gO5=_gO4($_gl4,"",strtolower($_gl5)); return $_gO5; } function _gO4($_gl6,$_gO6,$_gl7) { return str_replace($_gl6,$_gO6,$_gl7); } class _gi10 { static $_gi10="\1730}\173\061}<di\166\040id\075\047\173\151\144}'\040\143la\163\163='\173\163ty\154\145}K\125\114' \163\164yl\145\075'\167\151dt\150:\173\167\151dt\150\175;\150\145ig\150\164:\173\150eig\150t};\047\076\173\155ain\143ont\145\156t}\173upl\157\141de\144Fil\145s}\173\164em\160\154at\145s}<\057di\166\076\173\062}"; } function _gO7() { header("\103onte\156\164-ty\160\145: t\145\170t/j\141\166as\143\162ip\164"); } function _gl8() { echo "\166ar _\147\151O1=\060\073"; } function _gO8() { return exit (); } function _gl9() { return _gi10::$_gi10; } function _gO9( &$_gla) { for ($_gOa=0; $_gOa<3; $_gOa ++) $_gla=_gO4("\173".$_gOa."}","",$_gla); return TRUE; } if ( isset ($_GET[_gO2("\152s")])) { _gO7(); ?> function _gO(_go){return (_go!=null);}function _gY(_gy){return document.getElementById(_gy); }function _gI(_gi,_gA){var _ga=document.createElement(_gi); _gA.appendChild(_ga); return _ga; }function _gE(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.firstChild; return _go; }function _gU(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.nextSibling; return _go; }function _gu(_go,_ge){if (!_gO(_ge))_ge=1; for (var i=0; i<_ge; i++)_go=_go.parentNode; return _go; }function _gZ(_go,_gz){_go.style.height=_gz+"px"; }function _gX(_go,_gz){_go.style.width=_gz+"px"; }function _gx(_gW,_gw,_gV){_gV=_gO(_gV)?_gV:document.body; var _gv=_gV.getElementsByTagName(_gW); var _gT=new Array(); for (var i=0; i<_gv.length; i++)if (_gv[i].className.indexOf(_gw)>=0){_gT.push(_gv[i]); }return _gT; }function _gt(){return (typeof(_giO1)=="undefined");}function _gS(_go,_gz){_go.style.display=(_gz)?"": "none"; }function _gs(_go){return (_go.style.display!="none"); }function _gR(_go){return _go.className; }function _gr(_go,_gz){_go.className=_gz; }function _gQ(_gq,_gP,_gp){_gr(_gp,_gR(_gp).replace(_gq,_gP)); }function _gN(_go,_gw){if (_go.className.indexOf(_gw)<0){var _gn=_go.className.split(" "); _gn.push(_gw); _go.className=_gn.join(" "); }}function _gM(_go,_gw){if (_go.className.indexOf(_gw)>-1){_gQ(_gw,"",_go);var _gn=_go.className.split(" "); _go.className=_gn.join(" "); }}function _gm(_gL,_gl,_gK,_gk){if (_gL.addEventListener){_gL.addEventListener(_gl,_gK,_gk); return true; }else if (_gL.attachEvent){if (_gk){return false; }else {var _gJ= function (){_gK.apply(_gL,[window.event]); };if (!_gL["ref"+_gl])_gL["ref"+_gl]=[]; else {for (var _gj in _gL["ref"+_gl]){if (_gL["ref"+_gl][_gj]._gK === _gK)return false; }}var _gH=_gL.attachEvent("on"+_gl,_gJ); if (_gH)_gL["ref"+_gl].push( {_gK:_gK,_gJ:_gJ } ); return _gH; }}else {return false; }}function _gh(_gG){var a=_gG.attributes,i,_gg,_gF; if (a){_gg=a.length; for (i=0; i<_gg; i+=1){_gF=a[i].name; if (typeof _gG[_gF] === "function"){_gG[_gF]=null; }}}a=_gG.childNodes; if (a){_gg=a.length; for (i=0; i<_gg; i+=1){_gh(_gG.childNodes[i]); }}}function _gf(_gq,_gD){return _gD.indexOf(_gq); }function _gd(_gC){if (_gC.stopPropagation)_gC.stopPropagation(); else _gC.cancelBubble= true; }function _gc(_gB,_gb){var _go0="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz" .split(""); var _gO0=_go0,_gl0=[],_gi0=Math.random; _gb=_gb || _gO0.length; if (_gB){for (var i=0; i<_gB; i++)_gl0[i]=_gO0[0|_gi0()*_gb]; }else {var _gI0=0,_go1; _gl0[8]=_gl0[13]=_gl0[18]=_gl0[23]="-"; _gl0[14]="4"; for (var i=0; i<36; i++){if (!_gl0[i]){_go1=0|_gi0()*16; _gl0[i]=_gO0[(i==19)?(_go1&3)|8:_go1&15]; }}}return _gl0.join(""); }function _gO1(){var _gl1=navigator.userAgent.toLowerCase(); if (_gf("opera",_gl1)!=-1){return "opera"; }else if (_gf("firefox",_gl1)!=-1){return "firefox"; }else if (_gf("safari",_gl1)!=-1){return "safari"; }else if ((_gf("msie",_gl1)!=-1) && (_gf("opera",_gl1)==-1)){return "ie"; }else {return "firefox"; }}function _gi1(_gp){var _gI1="{"; for (var _go2 in _gp){switch (typeof(_gp[_go2])){case "string":_gI1+="\""+_go2+"\":\""+_gp[_go2]+"\","; break; case "number":_gI1+="\""+_go2+"\":"+_gp[_go2]+","; break; case "object":_gI1+="\""+_go2+"\":"+_gi1(_gp[_go2])+","; break; }}if (_gI1.length>1)_gI1=_gI1.substring(0,_gI1.length-1); _gI1+="}"; if (_gI1=="{}")_gI1="null"; return _gI1; }function KoolUploaderItem(_gy){ this._gy=_gy; this.id=_gy; }KoolUploaderItem.prototype= {_gO2:function (){var _gl2=this._gi2(); var _gI2=this.getFileName(); if (!_gl2._go3(_gI2)){var _gO3=_gY(this._gy); var _gl3=_gx("span","kulStatus",_gO3)[0]; _gl3.innerHTML=_gY(_gl2._gy+".message.file_not_allowed").innerHTML; _gN(_gO3,"kulNotAllowed"); _gN(_gO3,"kulDone"); _gN(_gl3,"kulError"); _gl2._gi3("OnUploadDone", { "ItemId": this._gy } ); }if (_gI2.lastIndexOf(".")>0){var _gI3=_gI2.substr(_gI2.lastIndexOf(".")+1).toLowerCase(); var _go4=_gx("span","kulThumbnail",_gY(this._gy))[0]; _gN(_go4,"kul"+_gI3); }} ,_gi2:function (){return eval(this._gy.substring(0,_gf(".",this._gy))); } ,_gO4:function (_gl4){var _gi4=_gx("span","kulProgress",_gY(this._gy))[0]; var _gI4=_gE(_gi4); _gI4.title=_gl4+"%"; var _go5=_gI4.offsetWidth; _gI4.style.backgroundPosition="-"+(_go5*(100-_gl4)/100)+"px"; } ,setProgressText:function (_gO5){var _gi4=_gx("span","kulProgress",_gY(this._gy))[0]; var _gl5=_gi4.lastChild; _gl5.innerHTML=_gO5; } ,attachData:function (_go2,_gi5){var _gI5=_gY(this._gy+".data"); var _gO3=_gY(this._gy); if (!_gO(_gI5)){_gI5=document.createElement("input"); _gI5.type="hidden"; _gI5.id=this._gy+".data"; _gI5.value="{}"; _gO3.appendChild(_gI5); }var _go6=eval("__="+_gI5.value); _go6[_go2]=_gi5; _gI5.value=_gi1(_go6); } ,upload:function (){if (this.getStatus()!="ready")return; if (!this._gi2()._gi3("OnBeforeUpload", { "ItemId": this._gy } ))return; var _gl2=this._gi2(); var _gO3=_gY(this._gy); var _gO6=_gY(this._gy+".data"); var _go6=new Array(); if (_gO(_gO6)){_go6=eval("__="+_gO6.value); }try {var _gl6=document.createElement("<iframe id='"+this._gy+".iframe' name='"+this._gy+".iframe' >"); _gO3.appendChild(_gl6); }catch (_gi6){var _gl6=document.createElement("iframe"); _gl6.name=this._gy+".iframe"; _gl6.id=this._gy+".iframe"; _gO3.appendChild(_gl6); }try {var _gI6=document.createElement("<form id='"+this._gy+".form' method='post' enctype='multipart/form-data' action='"+_gl2._go7+"' target='"+this._gy+".iframe'>"); _gO3.appendChild(_gI6); }catch (_gi6){var _gI6=document.createElement("form"); _gI6.id=this._gy+".form"; _gI6.enctype="multipart/form-data"; _gI6.method="post"; _gI6.action=_gl2._go7; _gI6.target=this._gy+".iframe"; _gO3.appendChild(_gI6); }var _gO7=document.createElement("input"); _gO7.type="hidden"; _gO7.name="UPLOAD_IDENTIFIER"; _gO7.value=this._gy; _gI6.appendChild(_gO7); var _gl7=document.createElement("input"); _gl7.type="hidden"; _gl7.name="MAX_FILE_SIZE"; _gl7.value=_gl2._gi7; _gI6.appendChild(_gl7); var _gI7=_gY(this._gy+".input"); var _go8=_gu(_gI7); _gh(_gI7); _gI7.id="KUL_FILE"; _gI7.name="KUL_FILE"; _gI6.appendChild(_gI7); for (var _go2 in _go6)if (typeof _go6[_go2]!="function"){var _gO8=document.createElement("input"); _gO8.type="hidden"; _gO8.name=_go2; _gO8.value=_go6[_go2]; _gI6.appendChild(_gO8); }_gu(_go8).removeChild(_go8); _gI6.submit(); _gN(_gO3,"kulUploading"); _gl2._gl8(this._gy); this._gO4(0); this._gi2()._gi3("OnUpload", { "ItemId": this._gy } ); if (_gl2._gi8){if (!_gl2._gi3("OnBeforeUpdateProgress", { "ItemId": this._gy } ))return; this.setProgressText("0%"); _gl2._gi3("OnUpdateProgress", { "ItemId": this._gy } ); }} ,remove:function (){var _gl2=this._gi2(); if (!_gl2._gi3("OnBeforeRemove", { "ItemId": this._gy } ))return; this._gI8(); var _gO3=_gY(this._gy); _gh(_gO3); try {var _go9=_gu(_gY(_gO3.id+".input")); _gu(_go9).removeChild(_go9); }catch (_gi6){}_gu(_gO3).removeChild(_gO3); _gl2._gi3("OnRemove", { "ItemId": this._gy } ); } ,_gI8:function (){if (this.getStatus()=="uploading"){var _gl2=this._gi2(); if (!_gl2._gi3("OnBeforeCancel", { "ItemId": this._gy } ))return; var _gO3=_gY(this._gy); _gM(_gO3,"kulUploading"); _gN(_gO3,"kulDone"); var _gl3=_gx("span","kulStatus",_gO3)[0]; _gl3.innerHTML=_gY(_gl2._gy+".message.upload_cancel").innerHTML; var _gI6=_gY(this._gy+".form"); var _gl6=_gY(this._gy+".iframe"); _gO3.removeChild(_gI6); _gO3.removeChild(_gl6); _gl2._gO9(this._gy); _gl2._gi3("OnCancel", { "ItemId": this._gy } ); }} ,getStatus:function (){var _gO3=_gY(this._gy); var _gw=_gR(_gO3); if (_gf("kulDone",_gw)>0){var _gl3=_gx("span","kulStatus",_gO3)[0]; if (_gf("kulError",_gR(_gl3))>0){return "failed"; }else {return "uploaded"; }}else if (_gf("kulUploading",_gw)>0){return "uploading"; }else {return "ready"; }} ,getFileName:function (){var _gl9=_gx("span","kulFileName",_gY(this._gy))[0]; return _gl9.innerHTML; } ,getTotalBytes:function (){var _gi9=_gY(this._gy+".info"); var _gI9=eval("__="+_gi9.value); return parseInt(_gI9["bytes_total"]); } ,getUploadedBytes:function (){var _gi9=_gY(this._gy+".info"); var _gI9=eval("__="+_gi9.value); return parseInt(_gI9["bytes_uploaded"]); } ,getEstimatedTime:function (){return Math.round(this.getTotalBytes()/this.getAverageSpeed()); } ,getElapsedTime:function (){var _gi9=_gY(this._gy+".info"); var _gI9=eval("__="+_gi9.value); return parseInt(_gI9["time_last"])-parseInt(_gI9["time_start"]); } ,getEstimatedTimeLeft:function (){var _gi9=_gY(this._gy+".info"); var _gI9=eval("__="+_gi9.value); return parseInt(_gI9["est_sec"]); } ,getLastSpeed:function (){var _gi9=_gY(this._gy+".info"); var _gI9=eval("__="+_gi9.value); return _gI9["speed_last"]; } ,getAverageSpeed:function (){var _gi9=_gY(this._gy+".info"); var _gI9=eval("__="+_gi9.value); return _gI9["speed_average"]; } ,getUploadedPercent:function (){return this.getUploadedBytes()*100/this.getTotalBytes(); } ,_goa:function (_gC){ this.upload(); } ,_gOa:function (_gC){ this.remove(); } ,_gla:function (_gC){ this._gI8(); } ,_gia:function (_gT,_gI9){if (_gt())return; var _gO3=_gY(this._gy); _gM(_gO3,"kulUploading"); _gN(_gO3,"kulDone"); var _gIa=this._gi2()._gy; var _gl3=_gx("span","kulStatus",_gO3)[0]; _gl3.innerHTML=_gY(_gIa+".message."+_gT).innerHTML; if (_gf("successful",_gT)>0){var _gI5=_gY(_gIa+"_uploadedFiles"); var _gob="[|-"+_gI9["name"]+"-|-"+_gI9["type"]+"-|-"+_gI9["size"]+"-|]"; if (_gf(_gob,_gI5.value)<0)_gI5.value+=_gob; }else {_gN(_gl3,"kulError"); }var _gi9=_gY(this._gy+".info"); var _gI9=eval("__="+_gi9.value); _gI9["bytes_uploaded"]=_gI9["bytes_total"]; _gi9.value=_gi1(_gI9); var _gI6=_gY(this._gy+".form"); var _gl6=_gY(this._gy+".iframe"); _gO3.removeChild(_gI6); _gO3.removeChild(_gl6); this._gi2()._gO9(this._gy); this._gi2()._gi3("OnUploadDone", { "ItemId": this._gy } ); } ,_gOb:function (_gI9){if (!_gO(_gY(this._gy)))return; if (this.getStatus()=="uploading" && _gO(_gI9)){var _gi9=_gY(this._gy+".info"); _gi9.value=_gi1(_gI9); var _glb=Math.round(this.getUploadedPercent()); this._gO4(_glb); if (!this._gi2()._gi3("OnBeforeUpdateProgress", { "ItemId": this._gy } ))return; this.setProgressText(_glb+"%"); this._gi2()._gi3("OnUpdateProgress", { "ItemId": this._gy } ); }}};function KoolUploader(_gy,_gib,_gIb,_goc,_gOc,_gi8,_gi7,_glc){ this._gy=_gy; this.id=_gy; this._go7=_gib+"?"+_gIb; this._gic=_gib+"?"+_goc; this._gOc=_gOc; this._gi8=_gi8; this._glc=_glc; this._gi7=_gi7; this._gIc=new Array(); this._god=new Array(); this._gOd= false; this._gld=(new Date()).getTime(); this._gO2(); }KoolUploader.prototype= {_gO2:function (){var _gI5=_gY(this._gy+"_uploadedFiles"); _gI5.value=""; this._gid(); var _gId=_gY(this._gy+".btn.uploadall"); if (_gO(_gId)){_gm(_gId,"click",_goe, false); }var _gOe=_gY(this._gy+".btn.clearall"); if (_gO(_gOe)){_gm(_gOe,"click",_gle, false); }} ,getItems:function (){var _gie=_gx("div","kulItem",_gY(this._gy+".container")); var _gIe=new Array(); for (i in _gie)if (typeof _gie[i]!="function"){_gIe.push(new KoolUploaderItem(_gie[i].id)); }return _gIe; } ,getItem:function (_gof){return (new KoolUploaderItem(_gof)); } ,uploadAll:function (){if (!this._gi3("OnBeforeUploadAll",null))return; if (_gt())return; var _gIe=this.getItems(); for (i in _gIe)if (typeof _gIe[i]!="function")if (_gIe[i].getStatus()=="ready"){_gIe[i].upload(); } this._gi3("OnUploadAll",null); } ,clearAll:function (){if (!this._gi3("OnBeforeClearAll",null))return; var _gIe=this.getItems(); for (var i in _gIe)if (typeof _gIe[i]!="function"){_gIe[i].remove(); } this._gi3("OnClearAll",null); } ,_go3:function (_gI2){var _gOf=this._glc.toLowerCase().split(","); for (var i in _gOf)if (typeof _gOf[i]!="function"){var _gIf=eval("/(."+_gOf[i]+")$/"); if (_gI2.toLowerCase().match(_gIf))return true; }return false; } ,_gl8:function (_gof){if (_gt())return; if (this._gi8){var _gog="["+this._god.join("][")+"]"; if (_gf("["+_gof+"]",_gog)<0){ this._god.push(_gof); }if (!this._gOd){ this._gOg(); }}} ,_gO9:function (_gof){var _glg=new Array(); for (i in this._god)if (typeof this._god[i]!="function")if (this._god[i]!=_gof){_glg.push(this._god[i]); } this._god=_glg; } ,_gOg:function (){var _gig=new KoolAjaxRequest( {method: "get",url:_gl2._gic,onDone:_gIg,onError:_goh,_gIa: this._gy } ); for (var i in this._god)if (typeof this._god[i]!="function"){_gig.addArg("itemids[]",this._god[i]); }koolajax.sendRequest(_gig); this._gOd= true; this._gld=(new Date()).getTime(); } ,SMR:function (){ this._gOg(); } ,_gOh:function (_go6){_go6=eval("__="+_go6); for (var _gof in _go6)if (typeof _go6[_gof]!="function"){ (new KoolUploaderItem(_gof))._gOb(_go6[_gof]); }if (this._gOd && (this._god.length>0)){var _glh=(new Date()).getTime(); if (_glh-this._gld>this._gOc){ this._gOg(); }else {setTimeout(this._gy+".SMR()",this._gOc-(_glh-this._gld)); }}else { this._gOd= false; }} ,_gih:function (_gIh){ this._gi3("OnError", { "Error":_gIh } ); } ,_gid:function (){var _goi=_gY(this._gy+".btn.add"); var _gOi=_gI("span",_goi); var _gli=document.createElement("input"); _gli.type="file"; _gli.id=this._gy+".new.input"; _gli.name=this._gy+".new.input"; _gOi.appendChild(_gli); _gr(_gOi,"kulFileInput"); _gm(_gli,"mouseover",_gii, false); _gm(_gli,"mouseout",_gIi, false); _gm(_gli,"change",_goj, false); } ,_gOj:function (){var _glj=this._gy; var _gij=_gY(_glj+".new.input"); if (_gij.value=="")return; var _gI2=_gij.value.replace(/\\/g,"/"); _gI2=_gI2.substring(_gI2.lastIndexOf("/")+1,_gI2.length); if (!this._gi3("OnBeforeAddItem", { "FileName":_gI2 } ))return; var _gIj=_gc(13,16); _gij.id=_glj+".item"+_gIj+".input"; _gij.name=_glj+".item"+_gIj+".input"; var _gok=_gE(_gY(_glj+".template.item")).cloneNode( true); _gok.id=_glj+".item"+_gIj; var _gOk=_gY(_glj+".container"); _gOk.appendChild(_gok); var _gl9=_gx("span","kulFileName",_gok)[0]; var _glk=_gx("span","kulUpload",_gok)[0]; var _gik=_gx("span","kulRemove",_gok)[0]; var _gIk=_gx("span","kulCancel",_gok)[0]; _glk.id=_gok.id+".btn.upload"; _gik.id=_gok.id+".btn.remove"; _gIk.id=_gok.id+".btn.cancel"; _gl9.innerHTML=_gI2; _gm(_gok,"click",_gol, false); _gm(_glk,"click",_gll, false); _gm(_gik,"click",_gil, false); _gm(_gIk,"click",_gIl, false); var _gi9=document.createElement("input"); _gi9.type="hidden"; _gi9.id=_gok.id+".info"; _gok.appendChild(_gi9); _gi9.value="{'time_start':'0','time_last':'1','speed_average':'1','speed_last':'1','bytes_uploaded' :'0','bytes_total':'1','files_uploaded':'1','est_sec':'0'}"; this._gid(); (new KoolUploaderItem(_gok.id))._gO2(); this._gi3("OnAddItem", { "ItemId":_gok.id } ); } ,_gom:function (_gC){ this.uploadAll(); } ,_gOm:function (_gC){ this.clearAll(); } ,registerEvent:function (_gIm,_gon){if (_gt())return; this._gIc[_gIm]=_gon; } ,_gi3:function (_go2,_gOn){return (_gO(this._gIc[_go2]))?this._gIc[_go2](this,_gOn): true; }};function _gi2(_gIn){return eval(_gIn.substring(0,_gf(".",_gIn))); }window.kuldone= function (_gy,_gT,_gI9){ (new KoolUploaderItem(_gy))._gia(_gT,_gI9); };function _gii(_gC){var _goi=_gu(this,2); _gN(_goi,"kulAddOver"); }function _gIi(_gC){var _goi=_gu(this,2); _gM(_goi,"kulAddOver"); }function _goj(_gC){_gl2=_gi2(this.id); _gl2._gOj(); }function _gol(_gC){var _gie=_gx("div","kulItem",_gu(this )); for (var i in _gie)if (typeof _gie[i]!="function"){_gM(_gie[i],"kulSelected"); }_gN(this,"kulSelected"); }function _gle(_gC){_gl2=_gi2(this.id); _gl2._gOm(_gC); }function _goe(_gC){_gl2=_gi2(this.id); _gl2._gom(_gC); }function _gll(_gC){_goo=new KoolUploaderItem(this.id.replace(".btn.upload","")); _goo._goa(_gC); }function _gil(_gC){_goo=new KoolUploaderItem(this.id.replace(".btn.remove","")); _goo._gOa(_gC); _gd(_gC); }function _gIl(_gC){_goo=new KoolUploaderItem(this.id.replace(".btn.cancel","")); _goo._gla(_gC); }function _gIg(_go6){_gl2=eval("__="+this._gIa); _gl2._gOh(_go6); }function _goh(_gIh){_gl2=eval("__="+this._gIa); _gl2._gih(_gIh); } <?php _gl8(); _gO8(); } if (!class_exists("\113\157olU\160\154oad\145\162",FALSE)) { function _glb($_gOb,$_glc) { $_gOc=""; foreach ($_gOb->childNodes as $_gld) { $_gOc.=$_glc->savexml($_gld); } return trim($_gOc); } class kooluploadhandler { var $targetFolder=""; var $allowedExtension=""; var $funcFileHandle=NULL; function _gOd($_gle) { $_gle=strtolower($_gle); $_gOe=explode("\054",strtolower($this->allowedExtension)); foreach ($_gOe as $_glf) if (preg_match("/\050\134.".$_glf.")\044\057",$_gle)) return TRUE; return FALSE; } function handleupload() { $_gOf=_gO4("\134","/",$this->targetFolder); if ( isset ($_GET[md5( __FILE__."\165ploa\144")])) { $_glg="\165ploa\144\137fai\154\145d"; $_gOg=$_FILES["\113\125L_F\111\114E"]; switch ($_gOg["erro\162"]) { case 0: if ($this->_gOd($_gOg["n\141\155e"])) { if ($this->funcFileHandle != NULL) { $_glh=$this->funcFileHandle; if ($_glh($_gOg) == TRUE) { $_glg="uploa\144\137suc\143\145ssf\165\154"; } else { $_glg="\165ploa\144\137fai\154\145d"; } } else { if (move_uploaded_file($_gOg["\164\155p_na\155\145"],$_gOf."/".$_gOg["nam\145"])) { $_glg="up\154\157ad_\163\165cce\163\163ful"; } else { $_glg="\165ploa\144\137fai\154\145d"; } } } else { $_glg="f\151\154e_n\157\164_al\154\157wed"; } break; case 1: $_glg="file\137\142igg\145\162_th\141\156_ph\160\137al\154\157w"; break; case 2: $_glg="\146ile\137\142igg\145\162_tha\156\137fo\162\155_al\154\157w"; break; case 3: $_glg="\157nly\137\160art\137\157f_f\151\154e_u\160\154oad\145\144"; break; case 4: default : $_glg="\165pload\137\146ail\145\144"; break; } $_gOh="\074sc\162\151pt t\171\160e='\164\145xt/\152\141va\163\143rip\164'>tr\171\173wi\156\144ow\056\160ar\145\156t.\153\165ld\157\156e\050'\173\151\144}'\054\047\173\162esu\154\164}\047\054\173\151nfo\175\051;\175\143at\143h(e\051\173}\074\057s\143\162ip\164>"; $_gOi=_gO4("\173\151d}",$_POST["UPLO\101\104_ID\105\116TIF\111\105R"],$_gOh); $_gOi=_gO4("\173\162esult\175",$_glg,$_gOi); $_gOi=_gO4("\173i\156\146o}",json_encode(array("\156ame" => $_gOg["nam\145"],"\164ype" => $_gOg["typ\145"],"\163\151ze" => $_gOg["\163ize"])),$_gOi); return $_gOi; } else if ( isset ($_GET[md5( __FILE__."\163ta\164\165s")])) { $_glj="\047\173\151\144}'\072\173v}"; $_gOj="\173'\164\151me_\163\164art\047\072'0\047\054't\151\155e_l\141\163t\047\072'0\047\054'\163\160ee\144\137av\145\162ag\145\047:\047\061'\054'spe\145\144_l\141st':\0471',\047\142y\164\145s_\165\160lo\141ded\047 :'\060\047,\047\142y\164\145s_\164\157t\141\154'\072'1'\054'fi\154\145s_\165plo\141ded\047:'1\047,'e\163\164_\163\145c\047:'0\047}"; $_glk=array(); if ( isset ($_GET["\151\164emid\163"])) { $_glk=$_GET["\151\164emi\144\163"]; } $_glg="\173"; for ($_gOa=0; $_gOa<sizeof($_glk); $_gOa ++) { $_gOk=(function_exists("u\160\154oadp\162\157gre\163\163_ge\164\137inf\157")) ? json_encode(uploadprogress_get_info($_glk[$_gOa])): $_gOj; $_gll=_gO4("\173\151\144}",$_glk[$_gOa],$_glj); $_gll=_gO4("\173\166\175",$_gOk,$_gll); $_glg.=$_gll; if ($_gOa<sizeof($_glk)-1) $_glg.="\054"; } $_glg.="}"; return $_glg; } } } class kooluploader { var $_gl0="\061.4.0\056\060"; var $id; var $styleFolder=""; var $_glm; var $scriptFolder=""; var $handlePage=""; var $texts=array("B\125\124TON_\101\104D" => "Add","BUT\124\117N_U\120\114OAD\137\101LL" => "Up\154\157ad A\154\154","BUTT\117\116_CLE\101\122_AL\114" => "\103lear\040\101ll","BU\124\124ON_\125\120LOAD" => "Up\154\157ad","\102UTT\117\116_REM\117\126E" => "Remov\145","BUT\124\117N_C\101\116CEL" => "Canc\145\154","\115ESS\101\107E_UP\114\117AD_\123\125CCE\123\123FUL" => "\125ploa\144\145d!","MESS\101\107E_FI\114\105_NO\124\137ALL\117\127ED" => "\116\157t a\154\154owe\144\041","MES\123\101GE_F\111\114E_B\111\107GER\137\124HAN\137\120HP\137\101LL\117\127" => "\124he\040\146ile\040\151s t\157\157 bi\147\041","\115ESSA\107\105_FI\114\105_BIG\107\105R_\124\110AN_\106\117RM\137\101LL\117\127" => "The f\151\154e is\040\164oo\040\142ig!","\115ESSA\107\105_ONL\131\137PAR\124\137OF_\106\111LE\137\125PLO\101DED" => "\116ot\040\143omp\154\145ted\041","\115ES\123\101GE_U\120\114OAD\137\106AIL\105\104" => "\106\141iled\040\164o u\160\154oa\144\041","M\105\123SAGE\137\125PLO\101\104_CA\116\103EL" => "\125\160loa\144\040ca\156\143ell\145\144!"); var $width="3\060\060px"; var $height="\06200px"; var $updateProgressInterval=03720; var $progressTracking=FALSE; var $showProgressBar=TRUE; var $maxFileSize=07502200; var $uploadedFiles=array(); var $allowedExtension=""; function __construct($_gOm) { $this->id =$_gOm; $_gln=""; if ( isset ($_POST[$_gOm."_u\160\154oad\145\144Fil\145\163"])) { $_gln=$_POST[$_gOm."\137\165plo\141\144edF\151\154es"]; } else if ( isset ($_GET[$_gOm."\056up\154\157aded\106\151les"])) { $_gln=$_GET[$_gOm."\137\165plo\141\144edF\151\154es"]; } $_gln=trim(trim($_gln,"\133|-"),"-|\135"); if (strlen($_gln)>0) { $_gOn=explode("-|\135\133|-",$_gln); foreach ($_gOn as $_glo) { $_gOo=explode("\055|-",$_glo); $_glp=array("\156ame" => $_gOo[0],"ty\160\145" => $_gOo[1],"si\172\145" => $_gOo[2]); array_push($this->uploadedFiles ,$_glp); } } } function loadxml($_gOp) { if (gettype($_gOp) == "str\151\156g") { $_glq=new domdocument(); $_glq->loadxml($_gOp); $_gOp=$_glq->documentElement; } $_gOm=$_gOp->getattribute("id"); if ($_gOm != "") $this->id =$_gOm; $_gOq=$_gOp->getattribute("styl\145\106old\145\162"); if ($_gOq != "") $this->styleFolder =$_gOq; } function render() { $_glr="\n\074!--K\157\157lUp\154\157ade\162\040ve\162\163ion\040".$this->_gl0."\040- w\167\167.ko\157\154php\056\156et\040\055->\n"; $_glr.=$this->registercss(); $_glr.=$this->renderuploader(); $_gls= isset ($_POST["\137_koo\154\141jax"]) || isset ($_GET["\137_koola\152\141x"]); $_glr.=($_gls) ? "": $this->registerscript(); $_glr.="\074sc\162\151pt t\171\160e='\164\145xt\057\152ava\163\143ri\160\164'>"; $_glr.=$this->startupscript(); $_glr.="</scr\151\160t>"; return $_glr; } function renderuploader() { $this->_gOs(); $tpl_main="\173\143ont\141\151ner}\173\142tn\101\144d}\173\142tnC\154\145ar\101\154l}\173\142tn\125\160lo\141\144Al\154\175"; $tpl_item="\173b\164\156Upl\157\141d}\173\142tnRe\155\157ve}\173\164hu\155\142na\151\154}\173\146ilen\141\155e\175\173pro\147\162e\163\163}\173\163ta\164\165s}"; $tpl_btnAdd="\173btnc\157\156ten\164\175"; $tpl_btnUploadAll="\173\142\164ncon\164\145nt}"; $tpl_btnClearAll="\173\142tncon\164\145nt}"; $tpl_btnUpload="\173\142\164nco\156\164ent\175"; $tpl_btnRemove="\173\142tnc\157\156ten\164\175"; $_glt="\173b\164\156con\164\145nt}"; include "\163tyle\163"."\057".$this->_glm."\057".$this->_glm."\056\164pl"; $_gOt="\074di\166\040id=\047\173id}\047\040cl\141\163s=\047\153ul\124\145mp\154\141te\047\040st\171\154e=\047dis\160\154ay\072\156on\145\073'\076\173c\157\156te\156\164}<\057div\076"; $_glu="\074div\040\151d=\047\173id}\056\143on\164\141in\145\162' c\154\141s\163\075'k\165\154Co\156\164ai\156\145r'\076</di\166>"; $_gOu="\074div c\154\141ss=\047\153ulI\164\145m'\076\173tp\154\137ite\155\175</\144\151v>"; $_glv="<spa\156\040cla\163\163='\153\165lTe\170\164'>\173\164ext}\074/spa\156\076"; $_gOv="\074inpu\164\040ty\160\145='hi\144\144en\047\040id\075\047\173\151d}_u\160\154oa\144\145dF\151\154es\047 na\155\145='\173\151d}\137\165p\154\157ad\145\144Fi\154\145s'\040/>"; $_glw="<span\040\151d='\173\151d}\056\142tn\056\141dd'\040clas\163\075'k\165\154Ad\144\047>\074\141 c\154\141ss\075'ku\154\101'>\173\164pl\137btn\101\144d}\074\057a\076\074/\163\160an\076"; $_gOw="\074spa\156\040cla\163\163='k\165\154Fi\154\145'><\151\156pu\164\040id\075'\173i\144\175' \164\171pe\075'fi\154\145' \057\076<\057\163pa\156>"; $_glx="<spa\156\040id=\047\173id}\056\142tn\056\165pl\157\141dal\154\047 \143\154as\163\075'k\165\154Up\154\157ad\101\154l'\076<a \143\154as\163\075'\153\165lA\047\076\173\164pl_\142\164n\125\160lo\141\144A\154\154}<\057\141>\074\057s\160\141n>"; $_gOx="<\163\160an \151\144='\173\151d}.b\164\156.cl\145\141ral\154\047 \143\154as\163\075'k\165\154Cl\145\141rA\154\154'>\074a c\154\141ss\075'ku\154\101'>\173\164pl\137\142tn\103lea\162\101ll\175\074/\141\076</\163pan\076"; $_gly="\074spa\156\040cla\163\163='k\165\154Up\154\157ad'\076<a c\154\141ss\075'kul\101\047>\173\164pl\137\142tn\125\160lo\141\144}<\057a><\057spa\156\076"; $_gOy="<spa\156\040cla\163\163='k\165\154Re\155\157ve'\076\074a \143\154as\163\075'\153\165lA'\076\173t\160\154_b\164\156Re\155\157ve\175</a\076\074/s\160an>"; $_glz="<spa\156\040cla\163\163='k\165\154Ca\156\143el'\076\074a \143\154as\163\075'\153\165lA'\076\173t\160\154_b\164\156Ca\156\143el\175</a\076\074/\163\160an\076"; $_gOz="\074span \143\154ass\075\047ku\154\106ile\116\141me\047\076 <\057\163p\141\156>"; $_gl10="<span\040\143las\163\075'k\165\154Pro\147\162ess\047><im\147\040s\162\143='\173\163tyl\145Fold\145\162}\057\160ro\147\162es\163\142a\162\056gi\146' cl\141ss=\047\153ul\102ar \173\141lt\142\141r\175\047 \173\163ty\154\145}\040\141l\164\075''\057><s\160an \143las\163='k\165\154T\145\170t\047\076 \074/sp\141n><\057spa\156>"; $_gO10="\074\163pan\040\143las\163\075'k\165\154Sta\164\165s'>\040</sp\141\156>"; $_gl11="\074\163pan\040\143las\163\075'k\165\154Thu\155\142nai\154\047> \074/sp\141\156>"; $_gO11=_gO4("\173id}",$this->id."\056mess\141\147e.u\160\154oad\137\163ucc\145\163sfu\154",$_gOt); $_gO11=_gO4("\173\143onte\156\164}",$this->texts["\115\105SSAG\105\137UPL\117\101D_\123\125CCE\123\123FUL"],$_gO11); $_gl12=_gO4("\173\151d}",$this->id.".me\163\163age.\165\160lo\141\144_fa\151\154ed",$_gOt); $_gl12=_gO4("\173\143\157nte\156\164}",$this->texts["\115ESSAG\105\137UPL\117\101D_F\101\111LED"],$_gl12); $_gO12=_gO4("\173id\175",$this->id."\056mes\163\141ge.f\151\154e_n\157\164_al\154\157we\144",$_gOt); $_gO12=_gO4("\173con\164\145nt}",$this->texts["\115ESS\101\107E_FI\114\105_NO\124\137ALL\117\127ED"],$_gO12); $_gl13=_gO4("\173i\144\175",$this->id."\056me\163\163age\056\146ile\137\142ig\147\145r_t\150\141n_\160\150p_\141\154lo\167",$_gOt); $_gl13=_gO4("\173\143ont\145\156t}",$this->texts["MESSA\107\105_FI\114\105_BI\107\107ER_\124\110AN\137\120HP_\101\114LO\127"],$_gl13); $_gO13=_gO4("\173\151\144}",$this->id.".me\163\163age.\146\151le_\142\151gg\145\162_th\141\156_fo\162\155_a\154\154ow",$_gOt); $_gO13=_gO4("\173\143onte\156\164}",$this->texts["\115ESSAGE\137\106ILE\137\102IGG\105\122_TH\101\116_FO\122\115_A\114\114OW"],$_gO13); $_gl14=_gO4("\173id}",$this->id."\056\155ess\141\147e.o\156\154y_p\141\162t_\157\146_fi\154\145_u\160\154oa\144ed",$_gOt); $_gl14=_gO4("\173con\164\145nt}",$this->texts["M\105\123SAGE\137\117NLY\137\120ART\137\117F_\106\111LE_\125\120LO\101\104ED"],$_gl14); $_gO14=_gO4("\173id}",$this->id.".mess\141\147e.u\160\154oad\137\143anc\145\154",$_gOt); $_gO14=_gO4("\173cont\145\156t}",$this->texts["M\105\123SAGE\137\125PLO\101\104_CA\116\103EL"],$_gO14); $_gl15=_gO4("\173id}",$this->id."\056tem\160\154ate\056\151te\155",$_gOt); $_gl15=_gO4("\173\143\157nten\164\175",$_gOu,$_gl15); $_gl15=_gO4("\173t\160\154_it\145\155}",$tpl_item,$_gl15); $_gO15=_gO4("\173\164\160l_bt\156\122emo\166\145}",$tpl_btnRemove,$_gOy); $_gO15=_gO4("\173btnco\156\164ent\175",$this->texts["BUTT\117\116_REM\117\126E"],$_gO15); $_gl16=_gO4("\173tpl_b\164\156Upl\157\141d}",$tpl_btnUpload,$_gly); $_gl16=_gO4("\173btn\143\157nte\156\164}",$this->texts["\102UTTO\116\137UPL\117\101D"],$_gl16); $_gO16=_gO4("\173\164pl_b\164\156Can\143\145l}",$tpl_btnUpload,$_glz); $_gO16=_gO4("\173btn\143\157nte\156\164}",$this->texts["\102UTT\117\116_CAN\103\105L"],$_gO16); $_gl15=_gO4("\173\142\164nUpl\157\141d}",$_gl16,$_gl15); $_gl15=_gO4("\173\142\164nRe\155\157ve}",$_gO15,$_gl15); $_gl15=_gO4("\173b\164\156Canc\145\154}",$_gO16,$_gl15); $_gl15=_gO4("\173fi\154\145name\175",$_gOz,$_gl15); $_gl15=_gO4("\173\163tatu\163\175",$_gO10,$_gl15); $_gl15=_gO4("\173\164\150umb\156\141il}",$_gl11,$_gl15); $_gl17=_gO4("\173\163tyle\106\157lde\162\175",$this->styleFolder ,$_gl10); $_gl17=_gO4("\173altb\141\162}",($this->progressTracking) ? (function_exists("\165\160loa\144\160rog\162\145ss_\147\145t_i\156\146o") ? "": "\153\165lAl\164\102ar"): "k\165\154AltB\141\162",$_gl17); $_gl17=_gO4("\173style\175",($this->showProgressBar) ? "": "st\171\154e='d\151\163pla\171\072no\156\145;'",$_gl17); $_gl15=_gO4("\173progr\145\163s}",$_gl17,$_gl15); $_gO17=_gO4("\173\151\144}",$this->id ,$_glw); $_gO17=_gO4("\173tp\154\137btn\101\144d}",$tpl_btnAdd,$_gO17); $_gO17=_gO4("\173btn\143\157nten\164\175",$this->texts["BU\124\124ON_A\104\104"],$_gO17); $_gl18=_gO4("\173id}",$this->id ,$_glx); $_gl18=_gO4("\173tpl_b\164\156Upl\157\141dAl\154\175",$tpl_btnUploadAll,$_gl18); $_gl18=_gO4("\173\142tncon\164\145nt}",$this->texts["BU\124\124ON_U\120\114OAD\137\101LL"],$_gl18); $_gO18=_gO4("\173i\144\175",$this->id ,$_gOx); $_gO18=_gO4("\173\164pl_bt\156\103lea\162\101ll}",$tpl_btnClearAll,$_gO18); $_gO18=_gO4("\173\142tncont\145\156t}",$this->texts["BUTT\117\116_CLE\101\122_AL\114"],$_gO18); $_gl19=_gO4("\173\151d}",$this->id ,$_glu); $_gO19=_gO4("\173c\157\156tai\156\145r}",$_gl19,$tpl_main); $_gO19=_gO4("\173btnAd\144\175",$_gO17,$_gO19); $_gO19=_gO4("\173\142tnU\160\154oad\101\154l}",$_gl18,$_gO19); $_gO19=_gO4("\173btn\103\154ear\101\154l}",$_gO18,$_gO19); $_gla=_gO4("\173id\175",$this->id ,_gl9()); $_gla=_gO4("\173\163tyle\175",$this->_glm ,$_gla); $_gla=_gO4("\173\167\151dth}",$this->width ,$_gla); $_gla=_gO4("\173hei\147\150t}",$this->height ,$_gla); if (_gO9($_gla)) { $_gla=_gO4("\173t\145\155plat\145\163}",$_gO11.$_gO12.$_gl12.$_gl15.$_gl13.$_gO13.$_gl14.$_gO14,$_gla); } $_gla=_gO4("\173\166\145rsi\157\156}",$this->_gl0 ,$_gla); $_gla=_gO4("\173ma\151\156con\164\145nt}",$_gO19,$_gla); $_gla=_gO4("\173\165pload\145\144Fil\145\163}",_gO4("\173\151d}",$this->id ,$_gOv),$_gla); return $_gla; } function _gOs() { $this->styleFolder =_gO4("\134","\057",$this->styleFolder); $_gOq=trim($this->styleFolder ,"/"); $_gl1a=strrpos($_gOq,"/"); $this->_glm =substr($_gOq,($_gl1a ? $_gl1a: -1)+1); } function registercss() { $this->_gOs(); $_gO1a="\074scri\160\164 ty\160\145='t\145\170t/\152\141vas\143\162ip\164\047>\151\146 (\144\157cu\155\145nt\056get\105\154em\145\156tB\171Id(\047\137_\173\163ty\154\145}K\125\114')\075=nu\154\154)\173\166ar\040_he\141\144 =\040doc\165men\164\056g\145\164El\145men\164sB\171\124ag\116ame\050'he\141d')\133\060]\073var\040_l\151\156k\040\075 \144ocu\155ent\056cre\141te\105\154e\155\145n\164\050'\154in\153\047)\073 _l\151nk\056id\040\075 \047__\173\163t\171le\175\113U\114\047;\137li\156k.r\145l=\047st\171\154e\163he\145t\047; \137li\156\153.\150re\146\075'\173st\171le\160at\150\175/\173st\171le\175/\173\163ty\154e}\056cs\163';\137he\141d.\141pp\145nd\103hi\154d(\137li\156k)\073}<\057sc\162ip\164>"; $_glr=_gO4("\173styl\145\175",$this->_glm ,$_gO1a); $_glr=_gO4("\173style\160\141th}",$this->_gl1b(),$_glr); return $_glr; } function registerscript() { $this->_gOs(); $_gO1a="\074\163cri\160\164 ty\160\145='t\145\170t/j\141\166asc\162\151p\164\047>i\146\050ty\160\145of\040_lib\113UL==\047\165nd\145fine\144')\173\144ocu\155\145nt\056wri\164\145(u\156\145sc\141\160e\050\042%\063\103s\143\162ip\164\040t\171\160e\075\047t\145\170t/\152ava\163c\162ip\164\047 \163rc=\047\173s\162\143}\047%3E\040%3C\057scr\151pt%\063E\042\051);\137lib\113UL=\061;}"; $_gO1a.="if(\164\171peo\146\040\173\163\164yle\175\113UL\111\156it\075\075'\165\156de\146\151ned\047)\173\144\157cu\155\145n\164\056wr\151\164e\050\165ne\163cape\050\042%\063Csc\162\151p\164\040ty\160e='\164\145xt\057jav\141\163c\162\151pt\047 sr\143\075'\173\163t\171\154e\160\141t\150\175/\173\163ty\154e}/\173sty\154e}.\152\163'\0453E \0453C\057\163c\162\151p\164\0453\105\042\051\051;\175</s\143ri\160\164>"; $_glr=_gO4("\173src\175",$this->_gO1b()."\077".md5("js"),$_gO1a); $_glr=_gO4("\173st\171\154e}",$this->_glm ,$_glr); $_glr=_gO4("\173\163tyle\160\141th}",$this->_gl1b(),$_glr); return $_glr; } function startupscript() { $this->_gOs(); $_gl1c="\151\146(typ\145\157f \173\163tyle\175\113ULI\156\151t!\075\047u\156\144ef\151\156ed\047\051\173\173sty\154\145}K\125\114In\151\164('\173id}'\051;} \166\141r \173\151d}\075new \113ool\125\160lo\141\144e\162\050'\173\151d}\047,'\173\150and\154\145P\141\147e\175\047,\047\173u\160\154oa\144}',\047\173s\164atu\163}',\173\151n\164\145r\166\141l\175\054\173\160ro\147\162e\163\163T\162\141c\153\151n\147\175,\173\155a\170\106i\154eSi\172e}\054'\173\141llo\167ed\105xte\156si\157\156}\047);"; $_glr=_gO4("\173id\175",$this->id ,$_gl1c); $_glr=_gO4("\173\163tyle}",$this->_glm ,$_glr); $_glr=_gO4("\173handl\145\120age\175",$this->handlePage ,$_glr); $_glr=_gO4("\173uploa\144\175",md5( __FILE__."\165pload"),$_glr); $_glr=_gO4("\173sta\164\165s}",md5( __FILE__."\163tatus"),$_glr); $_glr=_gO4("\173int\145\162val\175",$this->updateProgressInterval ,$_glr); $_glr=_gO4("\173\160\162ogr\145\163sTr\141\143ki\156\147}",($this->progressTracking) ? (function_exists("uplo\141\144prog\162\145ss\137\147et_\151\156fo") ? "1": "0"): "\060",$_glr); $_glr=_gO4("\173m\141\170File\123\151ze}",$this->maxFileSize ,$_glr); $_glr=_gO4("\173allow\145\144Ext\145\156sion\175",$this->allowedExtension ,$_glr); return $_glr; } function _gO1b() { if ($this->scriptFolder == "") { $_gO5=_gO3(); $_gOg=substr(_gO4("\134","/",__FILE__),strlen($_gO5)); return $_gOg; } else { $_gOg=_gO4("\134","/",__FILE__); $_gOg=$this->scriptFolder.substr($_gOg,strrpos($_gOg,"\057")); return $_gOg; } } function _gl1b() { $_gO1c=$this->_gO1b(); $_gl1d=_gO4(strrchr($_gO1c,"/"),"",$_gO1c)."/sty\154\145s"; return $_gl1d; } } } ?>