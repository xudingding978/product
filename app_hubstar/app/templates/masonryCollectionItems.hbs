





<div style="width: 100%; margin: 100px auto; left: 0;right: 0;position: relative;display: block;">
    <!-- masonry from here -->

    <div class="style-box t-style-box" style="width: 87%; min-width: 796px; height: 50px; background: white;margin: -70px auto;left: 0;right: 0;position: relative;display: block;">
        <div style="margin: 4px 20px 4px 40px; font-size: 18px; text-shadow: 0 1px 0 rgba(255,255,255,0.8);float: left;" >{{controller.title}}
        </div>
        <div class="hint--right hint--rounded" data-hint="Go back" style="margin: 4px 0; display: inline-block;">
            <i class="icon-level-up edit-btn" style="color: #555; text-shadow: 0 1px 0 rgba(255,255,255,0.8); font-size: 20px;" {{action goBack}}></i>
        </div>


    </div>

    <div id="masonry_photo_collection_container"  class="centered clearfix masonry_push_down" >

        <!--SECTION CONTROL BAR-->




        {{#if controller.is_profile_editing_mode}}
        {{#if controller.is_authentic_user}}
        {{#if controller.uploadStuff}}



        <div class="box style-box t-style-box col2" id="addNew" >

            <div id="tagetUplaod" {{action newUpload }}  >
                 <div class="add-new-object-hoverarea easing">
                    <i class="icon-upload" style="font-size: 80px;"></i>
                </div>
                <div class="masonry-object t-style-box">
                    <div class="add-new-object-content">
                        <i class="icon-group"></i>
                        <i class="icon-book"></i>
                        <i class="icon-picture"></i>
                        <i class="icon-film"></i>
                    </div>
                </div>
            </div>

            <div id="ownerUpload"  class="col4" style="display:none">             
                {{#unless controller.uploadOrsubmit}}
                {{#view HubStar.PhotoCreateView }}


                <div style="position: relative; margin: 15px auto;height: 520px; width: 690px; background-color: rgba(242,240,240,0.5);border: 3px dashed #aaa;"> 
                    <div style="top: 200px;position: relative;margin: auto;width: 80%;font-size: 26px; text-shadow: 1px 1px 0px #fff, -0.5px -0.5px 0px #555;color: #aaa;text-align: center;font-size: 35px;">
                        <i class="icon-upload" style="font-size: 45px;"></i>
                        <span style="font-weight: bold;display: block;font-size: 25px;">
                            Drag & Drop Your Photos Here
                        </span>
                        <span style="font-size: 17px;display: block;line-height: 25px;width: 380px;margin: auto;">Please upload no more than 20 photos at a time, and maximum size of 20MB per photo.</span> 
                    </div>

                    <div class="new-btn blue-btn" style="margin: auto; width: 200px; top: 557px; position: absolute;left: 0;right: 67%;">
                        Choose 
                        <div style="opacity:0;position: absolute;top: 0px;left: 0;"> {{view HubStar.ImageInputButtonView }}</div> 
                    </div> 

                    <div id="dragAndDroppArea" class="dragndropbox" style="display:none">

                        {{#each uploadImageContent}}




                        <div style="position: relative;margin:3px; display: inline-block; vertical-align: top; min-width: 150px;text-align: center;">
                            <div> 
                                <img  {{bindAttr src= "photo_image_original_url"}}  alt="Logo" style="max-width: 140px; max-height: 150px;">
                                <div {{bindAttr class="photo_source_id"}} style="display: none;">
                                    <img style="width: 25px; height: 25px;position: absolute;top: 40%;left: 62px;" src="../../../images/uploadphotos_spinner.gif"/>
                                </div>
                            </div>
                            <div style="margin: 2px 0 5px; font-size: 13px; text-overflow:ellipsis; text-align: center; width: 150px;overflow: hidden;word-wrap: break-word;line-height: 15px;">{{photo_title}}</div>
                        </div>
                        {{/each}}
                    </div>
                </div>
                <div class="controlbtn-field" style="margin-top: 20px;">
                    <div class="controlbtn" style="left: 34%;">
                        <span class="new-btn" {{action back }}>Close</span>
                        <span class="new-btn green-btn" {{action photoUpload}}>Upload</span> 
                    </div>
                </div>

                {{/view}}
                {{else}}
                {{render photoCreateInfoSetting}}
                {{/unless}}
            </div>
        </div>
        {{/if}}
        {{/if}}
        {{/if}}

        {{#each controller.content}}
        {{view HubStar.ItemView}}

<script>
    $(function() {
        var $container = $('#masonry_user_container');
        window.setTimeout(function() {
            $container.masonry();
            $container.masonry('reloadItems');
        }, 10);
    });
</script>
        {{/each}}




    </div>
<script>
    $(function() {
        var $container = $('#masonry_user_container');
        window.setTimeout(function() {
            $container.masonry();
            $container.masonry('reloadItems');
        }, 10);
    });
</script>
</div>


{{#if controller.makeSureDelete}}

{{view HubStar.DeleteFunctionView}}

{{/if}}
